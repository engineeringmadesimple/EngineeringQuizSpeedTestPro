<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Engineering Quiz Speed Test</title>
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2c3e50;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: var(--dark-color);
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 1rem;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #eee;
        }

        h1 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .subtitle {
            color: var(--secondary-color);
            font-weight: 300;
        }

        .topic-selection {
            margin-bottom: 2rem;
            padding: 1rem;
            background-color: var(--light-color);
            border-radius: 5px;
        }

        .topic-selection h2 {
            margin-bottom: 1rem;
            font-size: 1.4rem;
            color: var(--secondary-color);
        }

        select, button {
            padding: 0.75rem 1rem;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
        }

        select {
            width: 100%;
            margin-bottom: 1rem;
            background-color: white;
            border: 1px solid #ddd;
        }

        select:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        button {
            background-color: var(--primary-color);
            color: white;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
            width: 100%;
        }

        button:hover {
            background-color: #2980b9;
        }

        button:disabled {
            background-color: #95a5a6;
            cursor: not-allowed;
        }

        .quiz-section {
            display: none;
        }

        .quiz-section.active {
            display: block;
        }

        .timer-container {
            margin-bottom: 1rem;
            position: relative;
            height: 10px;
            background-color: #eee;
            border-radius: 5px;
            overflow: hidden;
        }

        .timer-bar {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 100%;
            background-color: var(--primary-color);
            transition: width 0.1s linear;
        }

        .timer-text {
            text-align: right;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: var(--secondary-color);
        }

        .question-container {
            margin-bottom: 2rem;
            padding: 1rem;
            background-color: var(--light-color);
            border-radius: 5px;
        }

        .question {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .answers {
            display: grid;
            grid-template-columns: 1fr;
            gap: 0.75rem;
        }

        .answer-btn {
            text-align: left;
            padding: 1rem;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .answer-btn:hover {
            background-color: #f5f5f5;
            border-color: var(--primary-color);
        }

        .answer-btn.selected {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .answer-btn.correct {
            background-color: var(--success-color);
            color: white;
            border-color: var(--success-color);
        }

        .answer-btn.incorrect {
            background-color: var(--danger-color);
            color: white;
            border-color: var(--danger-color);
        }

        .progress {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .progress-count {
            font-weight: bold;
            color: var(--primary-color);
        }

        .progress-score {
            font-weight: bold;
            color: var(--success-color);
        }

        .results-section {
            display: none;
            text-align: center;
        }

        .results-section.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        .results-header {
            margin-bottom: 1.5rem;
        }

        .score-display {
            font-size: 2.5rem;
            font-weight: bold;
            margin: 1rem 0;
            color: var(--primary-color);
        }

        .time-display {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            color: var(--secondary-color);
        }

        .results-message {
            margin-bottom: 2rem;
            font-size: 1.2rem;
            padding: 1rem;
            border-radius: 5px;
            background-color: var(--light-color);
        }

        .restart-btn {
            display: inline-block;
            margin-top: 1rem;
            background-color: var(--primary-color);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @media (min-width: 768px) {
            .answers {
                grid-template-columns: 1fr 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Engineering Quiz Speed Test</h1>
            <p class="subtitle">Test your knowledge against the clock!</p>
        </header>

        <!-- Topic Selection Screen -->
        <div class="topic-selection" id="topicSelection">
            <h2>Select an Engineering Discipline</h2>
            <select id="topicSelect">
                <option value="" disabled selected>Choose a topic...</option>
                <option value="mechanical">Mechanical Engineering</option>
                <option value="electrical">Electrical Engineering</option>
                <option value="civil">Civil Engineering</option>
                <option value="chemical">Chemical Engineering</option>
                <option value="software">Software Engineering</option>
                <option value="aerospace">Aerospace Engineering</option>
                <option value="biomedical">Biomedical Engineering</option>
                <option value="environmental">Environmental Engineering</option>
            </select>
            <button id="startBtn" disabled>Start Quiz</button>
        </div>

        <!-- Quiz Section -->
        <div class="quiz-section" id="quizSection">
            <div class="progress">
                <div class="progress-count">Question <span id="currentQuestion">1</span> of <span id="totalQuestions">10</span></div>
                <div class="progress-score">Score: <span id="currentScore">0</span></div>
            </div>
            
            <div class="timer-text">Time remaining: <span id="timerText">20</span>s</div>
            <div class="timer-container">
                <div class="timer-bar" id="timerBar"></div>
            </div>
            
            <div class="question-container">
                <div class="question" id="questionText">Question text goes here.</div>
                <div class="answers" id="answerButtons">
                    <!-- Answer buttons will be generated here -->
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <div class="results-section" id="resultsSection">
            <h2 class="results-header">Quiz Results</h2>
            <div class="score-display"><span id="finalScore">0</span> / <span id="maxScore">10</span></div>
            <div class="time-display">Completed in <span id="totalTime">0</span> seconds</div>
            
            <div class="results-message" id="resultsMessage">
                <!-- Results message will be generated here -->
            </div>
            
            <button id="restartBtn" class="restart-btn">Try Another Topic</button>
        </div>
    </div>

    <script>
        // DOM Elements
        const topicSelection = document.getElementById('topicSelection');
        const quizSection = document.getElementById('quizSection');
        const resultsSection = document.getElementById('resultsSection');
        const topicSelect = document.getElementById('topicSelect');
        const startBtn = document.getElementById('startBtn');
        const questionText = document.getElementById('questionText');
        const answerButtons = document.getElementById('answerButtons');
        const currentQuestionElement = document.getElementById('currentQuestion');
        const totalQuestionsElement = document.getElementById('totalQuestions');
        const currentScoreElement = document.getElementById('currentScore');
        const timerBar = document.getElementById('timerBar');
        const timerText = document.getElementById('timerText');
        const finalScoreElement = document.getElementById('finalScore');
        const maxScoreElement = document.getElementById('maxScore');
        const totalTimeElement = document.getElementById('totalTime');
        const resultsMessageElement = document.getElementById('resultsMessage');
        const restartBtn = document.getElementById('restartBtn');

        // Quiz Variables
        let currentQuestion = 0;
        let score = 0;
        let timeLeft = 20;
        let timerInterval;
        let quizQuestions = [];
        let quizStartTime;
        let quizEndTime;
        let selectedTopic = '';
        
        // Question Banks for different engineering disciplines
        // Note: These arrays are intentionally left empty as per requirements
         const questionBanks = {
   mechanical: [
                {
                    question: "What law states that pressure and volume are inversely proportional at constant temperature?",
                    options: [
                        "Charles' Law",
                        "Boyle's Law",
                        "Gay-Lussac's Law",
                        "Avogadro's Law"
                    ],
                    answer: 1
                },
                {
                    question: "What is the mechanical advantage of a pulley system with 3 supporting pulleys?",
                    options: [
                        "2",
                        "3",
                        "4",
                        "6"
                    ],
                    answer: 2
                },
                {
                    question: "Which type of gear is used to connect non-parallel, non-intersecting shafts?",
                    options: [
                        "Spur gear",
                        "Bevel gear",
                        "Worm gear",
                        "Helical gear"
                    ],
                    answer: 2
                },
                {
                    question: "What is the purpose of a flywheel in an engine?",
                    options: [
                        "To reduce friction",
                        "To store rotational energy",
                        "To cool the engine",
                        "To generate electricity"
                    ],
                    answer: 1
                },
                {
                    question: "Which cycle is used in diesel engines?",
                    options: [
                        "Otto cycle",
                        "Diesel cycle",
                        "Rankine cycle",
                        "Carnot cycle"
                    ],
                    answer: 1
                },
                {
                    question: "What is the primary function of a heat exchanger?",
                    options: [
                        "To convert heat to mechanical energy",
                        "To store thermal energy",
                        "To transfer heat between fluids",
                        "To increase fluid pressure"
                    ],
                    answer: 2
                },
                {
                    question: "Which material property represents the ability to return to its original shape after deformation?",
                    options: [
                        "Ductility",
                        "Elasticity",
                        "Malleability",
                        "Toughness"
                    ],
                    answer: 1
                },
                {
                    question: "What is the purpose of a governor in an engine?",
                    options: [
                        "To control engine speed",
                        "To increase fuel efficiency",
                        "To reduce emissions",
                        "To increase power output"
                    ],
                    answer: 0
                },
                {
                    question: "Which law of thermodynamics states that energy cannot be created or destroyed?",
                    options: [
                        "Zeroth law",
                        "First law",
                        "Second law",
                        "Third law"
                    ],
                    answer: 1
                },
                {
                    question: "What is the primary purpose of a hydraulic accumulator?",
                    options: [
                        "To increase fluid pressure",
                        "To store hydraulic energy",
                        "To filter hydraulic fluid",
                        "To cool hydraulic systems"
                    ],
                    answer: 1
                },
                {
                    question: "Which type of bearing uses fluid pressure to separate the surfaces in relative motion?",
                    options: [
                        "Ball bearing",
                        "Roller bearing",
                        "Fluid bearing",
                        "Needle bearing"
                    ],
                    answer: 2
                },
                {
                    question: "What is the term for the ratio of output power to input power in a machine?",
                    options: [
                        "Mechanical advantage",
                        "Efficiency",
                        "Power factor",
                        "Load ratio"
                    ],
                    answer: 1
                },
                {
                    question: "Which welding process uses an electric arc between a consumable electrode and the workpiece?",
                    options: [
                        "TIG welding",
                        "MIG welding",
                        "Laser welding",
                        "Ultrasonic welding"
                    ],
                    answer: 1
                },
                {
                    question: "What is the purpose of a dynamometer?",
                    options: [
                        "To measure engine power",
                        "To control engine speed",
                        "To reduce vibration",
                        "To increase fuel efficiency"
                    ],
                    answer: 0
                },
                {
                    question: "Which mechanism converts rotary motion to linear motion?",
                    options: [
                        "Gear",
                        "Cam",
                        "Pulley",
                        "Clutch"
                    ],
                    answer: 1
                }
            ],
    electrical: [
    {
        question: "What is the unit of electrical resistance?",
        options: [
            "Ampere",
            "Volt",
            "Ohm",
            "Watt"
        ],
        answer: 2
    },
    {
        question: "Which law states that the current through a conductor is directly proportional to the voltage across it?",
        options: [
            "Ohm's Law",
            "Kirchhoff's Law",
            "Faraday's Law",
            "Lenz's Law"
        ],
        answer: 0
    },
    {
        question: "What does a capacitor store?",
        options: [
            "Charge",
            "Energy",
            "Current",
            "Voltage"
        ],
        answer: 0
    },
    {
        question: "Which type of transformer is used to increase or decrease AC voltage?",
        options: [
            "Step-up transformer",
            "Step-down transformer",
            "Autotransformer",
            "Both Step-up and Step-down transformers"
        ],
        answer: 3
    },
    {
        question: "What is the primary purpose of a circuit breaker?",
        options: [
            "To regulate current flow",
            "To prevent overheating",
            "To disconnect a circuit during a fault",
            "To increase voltage"
        ],
        answer: 2
    },
    {
        question: "What is the unit of electrical power?",
        options: [
            "Volt",
            "Ampere",
            "Ohm",
            "Watt"
        ],
        answer: 3
    },
    {
        question: "Which device is used to measure electrical current?",
        options: [
            "Voltmeter",
            "Ammeter",
            "Oscilloscope",
            "Wattmeter"
        ],
        answer: 1
    },
    {
        question: "What type of electrical current is used in most household circuits?",
        options: [
            "Direct Current (DC)",
            "Alternating Current (AC)",
            "Both DC and AC",
            "Pulsating Current"
        ],
        answer: 1
    },
    {
        question: "What is the purpose of a diode in a circuit?",
        options: [
            "To regulate current",
            "To store energy",
            "To allow current to flow in one direction only",
            "To increase voltage"
        ],
        answer: 2
    },
    {
        question: "What does the term 'grounding' refer to in electrical circuits?",
        options: [
            "Connecting a circuit to the earth to prevent shock",
            "Increasing voltage",
            "Reducing current",
            "Storing energy"
        ],
        answer: 0
    },
    {
        question: "Which component is responsible for controlling the flow of current in a circuit?",
        options: [
            "Resistor",
            "Capacitor",
            "Inductor",
            "Transistor"
        ],
        answer: 0
    },
    {
        question: "What is the purpose of an inductor in an electrical circuit?",
        options: [
            "To store energy in a magnetic field",
            "To store energy in an electric field",
            "To control the flow of current",
            "To increase resistance"
        ],
        answer: 0
    },
    {
        question: "Which law explains the relationship between voltage, current, and resistance in a circuit?",
        options: [
            "Faraday's Law",
            "Coulomb's Law",
            "Ohm's Law",
            "Ampere's Law"
        ],
        answer: 2
    },
    {
        question: "What is the purpose of a fuse in an electrical circuit?",
        options: [
            "To protect the circuit from excessive current",
            "To control voltage",
            "To store energy",
            "To regulate power"
        ],
        answer: 0
    },
    {
        question: "What is the primary function of a transformer in an electrical system?",
        options: [
            "To convert AC to DC",
            "To increase or decrease voltage",
            "To store electrical energy",
            "To generate electricity"
        ],
        answer: 1
    }
],
   civil: [
    {
        question: "What is the primary component of concrete?",
        options: [
            "Cement",
            "Sand",
            "Gravel",
            "Water"
        ],
        answer: 0
    },
    {
        question: "Which structure helps in carrying water across a valley or road?",
        options: [
            "Dam",
            "Bridge",
            "Aqueduct",
            "Tunnel"
        ],
        answer: 2
    },
    {
        question: "What is the standard unit of measurement for load in structural engineering?",
        options: [
            "Newton",
            "Pascal",
            "Kilogram-force",
            "Ton"
        ],
        answer: 0
    },
    {
        question: "Which type of foundation is commonly used for high-rise buildings?",
        options: [
            "Strip foundation",
            "Raft foundation",
            "Pile foundation",
            "Pad foundation"
        ],
        answer: 2
    },
    {
        question: "Which test is used to determine the workability of fresh concrete?",
        options: [
            "Compression test",
            "Slump test",
            "Tensile test",
            "Shear test"
        ],
        answer: 1
    },
    {
        question: "What is the main purpose of reinforcement in concrete structures?",
        options: [
            "To reduce weight",
            "To increase ductility",
            "To resist tensile forces",
            "To increase workability"
        ],
        answer: 2
    },
    {
        question: "What is the name of the horizontal structural element that supports loads in a building?",
        options: [
            "Beam",
            "Column",
            "Slab",
            "Footing"
        ],
        answer: 0
    },
    {
        question: "Which type of bridge uses cables to support the deck?",
        options: [
            "Beam bridge",
            "Suspension bridge",
            "Arch bridge",
            "Truss bridge"
        ],
        answer: 1
    },
    {
        question: "What is the purpose of a retaining wall?",
        options: [
            "To support a structure",
            "To prevent soil erosion",
            "To increase aesthetic value",
            "To separate floors in a building"
        ],
        answer: 1
    },
    {
        question: "Which material is primarily used in road pavement construction?",
        options: [
            "Steel",
            "Concrete",
            "Bitumen",
            "Clay"
        ],
        answer: 2
    }
],

   chemical: [
    {
        question: "What is the most common element in Earth's crust?",
        options: [
            "Oxygen",
            "Silicon",
            "Aluminum",
            "Iron"
        ],
        answer: 0
    },
    {
        question: "Which law states that mass is neither created nor destroyed in a chemical reaction?",
        options: [
            "Boyle’s Law",
            "Charles’ Law",
            "Law of Conservation of Mass",
            "Avogadro’s Law"
        ],
        answer: 2
    },
    {
        question: "Which process is used to separate components of crude oil?",
        options: [
            "Electrolysis",
            "Fractional distillation",
            "Crystallization",
            "Centrifugation"
        ],
        answer: 1
    },
    {
        question: "What is the chemical formula for ammonia?",
        options: [
            "NH3",
            "CH4",
            "H2SO4",
            "CO2"
        ],
        answer: 0
    },
    {
        question: "Which type of reactor is commonly used in the chemical industry?",
        options: [
            "CSTR (Continuous Stirred Tank Reactor)",
            "Open tank",
            "Pressure vessel",
            "Heat exchanger"
        ],
        answer: 0
    },
    {
        question: "Which polymer is commonly used to make plastic bottles?",
        options: [
            "PVC",
            "Polyethylene",
            "Polypropylene",
            "PET"
        ],
        answer: 3
    },
    {
        question: "What is the process of converting a liquid into a gas at a specific boiling point?",
        options: [
            "Condensation",
            "Evaporation",
            "Sublimation",
            "Distillation"
        ],
        answer: 1
    },
    {
        question: "Which catalyst is used in the Haber process for ammonia production?",
        options: [
            "Platinum",
            "Iron",
            "Copper",
            "Nickel"
        ],
        answer: 1
    },
    {
        question: "Which law relates the pressure and volume of an ideal gas?",
        options: [
            "Boyle’s Law",
            "Charles’ Law",
            "Gay-Lussac’s Law",
            "Dalton’s Law"
        ],
        answer: 0
    },
    {
        question: "Which industry heavily relies on chemical engineering for large-scale production?",
        options: [
            "Software",
            "Textile",
            "Pharmaceutical",
            "Construction"
        ],
        answer: 2
    }
],
    aerospace: [
    {
        question: "What force counteracts gravity in an aircraft?",
        options: [
            "Thrust",
            "Drag",
            "Lift",
            "Weight"
        ],
        answer: 2
    },
    {
        question: "Which gas is primarily used in space shuttles for combustion?",
        options: [
            "Oxygen",
            "Nitrogen",
            "Hydrogen",
            "Helium"
        ],
        answer: 2
    },
    {
        question: "What is the primary function of a jet engine?",
        options: [
            "Generate thrust",
            "Increase drag",
            "Control direction",
            "Store fuel"
        ],
        answer: 0
    },
    {
        question: "Which part of a rocket is responsible for controlling its direction?",
        options: [
            "Nose cone",
            "Booster",
            "Fins",
            "Payload"
        ],
        answer: 2
    },
    {
        question: "What does the Mach number represent?",
        options: [
            "Speed of sound",
            "Aircraft altitude",
            "Thrust-to-weight ratio",
            "Wing area"
        ],
        answer: 0
    }
],

    biomedical: [
    {
        question: "Which medical imaging technique uses magnetic fields and radio waves?",
        options: [
            "X-ray",
            "CT Scan",
            "MRI",
            "Ultrasound"
        ],
        answer: 2
    },
    {
        question: "What is the primary function of a pacemaker?",
        options: [
            "Regulate heart rate",
            "Measure blood pressure",
            "Monitor oxygen levels",
            "Stimulate muscle growth"
        ],
        answer: 0
    },
    {
        question: "Which type of prosthetic limb control system uses electrical signals from muscles?",
        options: [
            "Hydraulic",
            "Mechanical",
            "Myoelectric",
            "Pneumatic"
        ],
        answer: 2
    },
    {
        question: "Which technology is used to amplify weak biological signals from the human body?",
        options: [
            "MRI scanner",
            "Pacemaker",
            "Biosensor",
            "Electrode amplifier"
        ],
        answer: 3
    },
    {
        question: "What type of biomaterial is commonly used in hip joint replacements?",
        options: [
            "Titanium",
            "Copper",
            "Aluminum",
            "Lead"
        ],
        answer: 0
    },
    {
        question: "Which component of blood is responsible for oxygen transport?",
        options: [
            "White blood cells",
            "Red blood cells",
            "Platelets",
            "Plasma"
        ],
        answer: 1
    },
    {
        question: "What is the primary purpose of an artificial heart valve?",
        options: [
            "To regulate blood pressure",
            "To control heart rate",
            "To replace a damaged natural valve",
            "To monitor oxygen levels"
        ],
        answer: 2
    },
    {
        question: "Which imaging technique uses sound waves to create images of internal body structures?",
        options: [
            "X-ray",
            "MRI",
            "Ultrasound",
            "CT scan"
        ],
        answer: 2
    },
    {
        question: "What is the function of a dialysis machine?",
        options: [
            "To measure blood sugar",
            "To filter waste from blood",
            "To increase red blood cell production",
            "To regulate heart rate"
        ],
        answer: 1
    },
    {
        question: "Which organ is commonly replaced with a mechanical implant?",
        options: [
            "Lung",
            "Heart",
            "Kidney",
            "Liver"
        ],
        answer: 1
    }
],

   environmental: [
    {
        question: "Which gas is the primary contributor to global warming?",
        options: [
            "Oxygen",
            "Carbon Dioxide",
            "Nitrogen",
            "Argon"
        ],
        answer: 1
    },
    {
        question: "What process is used to convert wastewater into reusable water?",
        options: [
            "Desalination",
            "Recycling",
            "Wastewater Treatment",
            "Filtration"
        ],
        answer: 2
    },
    {
        question: "Which layer of the atmosphere contains the ozone layer?",
        options: [
            "Troposphere",
            "Stratosphere",
            "Mesosphere",
            "Thermosphere"
        ],
        answer: 1
    },
    {
        question: "What is the main cause of acid rain?",
        options: [
            "Carbon dioxide",
            "Sulfur dioxide",
            "Methane",
            "Nitrogen gas"
        ],
        answer: 1
    },
    {
        question: "Which renewable energy source is derived from plant and animal materials?",
        options: [
            "Solar energy",
            "Wind energy",
            "Biomass",
            "Geothermal energy"
        ],
        answer: 2
    },
    {
        question: "Which type of pollution is caused by excessive artificial light?",
        options: [
            "Air pollution",
            "Water pollution",
            "Light pollution",
            "Noise pollution"
        ],
        answer: 2
    },
    {
        question: "What is the process of removing salt from seawater to make it drinkable?",
        options: [
            "Filtration",
            "Desalination",
            "Distillation",
            "Sedimentation"
        ],
        answer: 1
    },
    {
        question: "Which material is most commonly recycled worldwide?",
        options: [
            "Plastic",
            "Glass",
            "Aluminum",
            "Paper"
        ],
        answer: 3
    },
    {
        question: "What is the primary cause of ozone layer depletion?",
        options: [
            "Carbon dioxide emissions",
            "Chlorofluorocarbons (CFCs)",
            "Deforestation",
            "Methane gas"
        ],
        answer: 1
    },
    {
        question: "What does 'LEED' certification indicate for a building?",
        options: [
            "Energy efficiency and sustainability",
            "Earthquake resistance",
            "Structural durability",
            "Fire safety compliance"
        ],
        answer: 0
    }
]


};

        // Enable the start button when a topic is selected
        topicSelect.addEventListener('change', () => {
            selectedTopic = topicSelect.value;
            startBtn.disabled = false;
        });

        // Start the quiz when the start button is clicked
        startBtn.addEventListener('click', startQuiz);

        // Reset quiz when the restart button is clicked
        restartBtn.addEventListener('click', () => {
            resultsSection.classList.remove('active');
            topicSelection.style.display = 'block';
            topicSelect.value = '';
            startBtn.disabled = true;
        });

        // Start the quiz
        function startQuiz() {
            // Check if questions are available for the selected topic
            if (questionBanks[selectedTopic].length === 0) {
                alert("No questions available for this topic yet. Please choose another topic.");
                return;
            }
            
            // Choose 10 random questions from the selected topic
            quizQuestions = getRandomQuestions(questionBanks[selectedTopic], 10);
            
            // Reset quiz variables
            currentQuestion = 0;
            score = 0;
            
            // Update the UI
            currentScoreElement.textContent = score;
            totalQuestionsElement.textContent = quizQuestions.length;
            
            // Hide topic selection and show quiz section
            topicSelection.style.display = 'none';
            quizSection.classList.add('active');
            
            // Record start time
            quizStartTime = new Date().getTime();
            
            // Show the first question
            showQuestion();
        }

        // Get random questions from the question bank
        function getRandomQuestions(questions, count) {
            const shuffled = [...questions].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, count);
        }

        // Show the current question and answers
        function showQuestion() {
            // Reset timer
            clearInterval(timerInterval);
            timeLeft = 20;
            timerBar.style.width = '100%';
            timerText.textContent = timeLeft;
            
            // Start timer
            startTimer();
            
            // Update question number
            currentQuestionElement.textContent = currentQuestion + 1;
            
            // Get the current question
            const question = quizQuestions[currentQuestion];
            
            // Update question text
            questionText.textContent = question.question;
            
            // Clear previous answer buttons
            answerButtons.innerHTML = '';
            
            // Create answer buttons
            question.answers.forEach((answer, index) => {
                const button = document.createElement('button');
                button.classList.add('answer-btn');
                button.textContent = answer;
                button.dataset.index = index;
                button.addEventListener('click', selectAnswer);
                answerButtons.appendChild(button);
            });
        }

        // Start the timer for the current question
        function startTimer() {
            timerInterval = setInterval(() => {
                timeLeft--;
                timerText.textContent = timeLeft;
                timerBar.style.width = `${(timeLeft / 20) * 100}%`;
                
                if (timeLeft <= 5) {
                    timerBar.style.backgroundColor = 'var(--danger-color)';
                } else if (timeLeft <= 10) {
                    timerBar.style.backgroundColor = 'var(--warning-color)';
                }
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    handleTimeUp();
                }
            }, 1000);
        }

        // Handle when time runs out for a question
        function handleTimeUp() {
            // Disable all answer buttons
            const buttons = document.querySelectorAll('.answer-btn');
            buttons.forEach(button => {
                button.disabled = true;
            });
            
            // Highlight the correct answer
            const correctAnswerIndex = quizQuestions[currentQuestion].correctAnswer;
            buttons[correctAnswerIndex].classList.add('correct');
            
            // Wait a moment before moving to the next question
            setTimeout(nextQuestion, 1500);
        }

        // Handle when an answer is selected
        function selectAnswer(e) {
            // Stop the timer
            clearInterval(timerInterval);
            
            // Get the selected answer index
            const selectedIndex = parseInt(e.target.dataset.index);
            
            // Get the correct answer index
            const correctAnswerIndex = quizQuestions[currentQuestion].correctAnswer;
            
            // Disable all answer buttons
            const buttons = document.querySelectorAll('.answer-btn');
            buttons.forEach(button => {
                button.disabled = true;
            });
            
            // Highlight the selected answer
            e.target.classList.add('selected');
            
            // Check if the answer is correct
            if (selectedIndex === correctAnswerIndex) {
                e.target.classList.add('correct');
                score++;
                currentScoreElement.textContent = score;
            } else {
                e.target.classList.add('incorrect');
                buttons[correctAnswerIndex].classList.add('correct');
            }
            
            // Wait a moment before moving to the next question
            setTimeout(nextQuestion, 1500);
        }

        // Move to the next question or end the quiz
        function nextQuestion() {
            currentQuestion++;
            
            if (currentQuestion < quizQuestions.length) {
                showQuestion();
            } else {
                endQuiz();
            }
        }

        // End the quiz and show results
        function endQuiz() {
            // Record end time
            quizEndTime = new Date().getTime();
            
            // Calculate total time in seconds
            const totalTimeInSeconds = Math.floor((quizEndTime - quizStartTime) / 1000);
            
            // Update results
            finalScoreElement.textContent = score;
            maxScoreElement.textContent = quizQuestions.length;
            totalTimeElement.textContent = totalTimeInSeconds;
            
            // Generate results message based on score
            let resultsMessage = '';
            const percentage = (score / quizQuestions.length) * 100;
            
            if (percentage >= 90) {
                resultsMessage = 'Excellent! You have a profound understanding of this engineering discipline.';
            } else if (percentage >= 70) {
                resultsMessage = 'Great job! You have a solid grasp of the key concepts.';
            } else if (percentage >= 50) {
                resultsMessage = 'Good effort! You know the basics but might want to review some areas.';
            } else {
                resultsMessage = 'Keep studying! This topic requires more practice to master.';
            }
            
            resultsMessageElement.textContent = resultsMessage;
            
            // Hide quiz section and show results section
            quizSection.classList.remove('active');
            resultsSection.classList.add('active');
        }
    </script>
</body>
</html>
